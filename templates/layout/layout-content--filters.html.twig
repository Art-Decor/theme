{#
/**
 * @file
 * Theme override to display a custom layout.
 *
 * Available variables:
 * - layout_content: The layout content entity.
 * - attributes: The array of HTML attributes populated by modules, intended to
 *   be added to the main container tag of this template.
 * - content: The content of this custom layout.
#}
<div{{ attributes.addClass('mb-3 pb-3 md:pb-6 border-b border-gray-200') }}>

    {% if content.layout_regions.filters %}
        <span>Filter by:</span>
        <div class="swiper" data-swiper-facets>
            <div class="swiper-wrapper flex justify-between !flex-row-reverse md:!flex-row">
                <div class="grow flex font-body">
                    {{ content.layout_regions.filters }}
                </div>
                {% if content.layout_regions.sort %}
                    <div class="shrink-0">
                        {{ content.layout_regions.sort }}
                    </div>
                {% endif %}
            </div>
        </div>
    {% endif %}
    <script>


        function initializeSwiper(){
            const swiperContainer = document.querySelector('[data-swiper-facets]')

            if (window.Swiper && swiperContainer){
                new Swiper(swiperContainer,{
                    slidesPerView: 'auto',
                    spaceBetween: 0,
                    enabled: true,
                    freemode:{
                        enabled: true
                    },
                    breakpoints:{
                        768:{
                            enabled: false
                        }
                    }
                })
            }
        }

        window.addEventListener("DOMContentLoaded", () => {

        if (window.jQuery) {
            
            var $filtersGroup = jQuery('.layout-content-region--filters');
            
            $filtersGroup.on('show.bs.collapse','.collapse', function() {
                $filtersGroup.find('.collapse.in').collapse('hide');
            });

            jQuery(document).on('click',function(){
                $filtersGroup.find('.collapse.in').collapse('hide');
            });
        }

        initializeSwiper()

    });
</script>
</div>
